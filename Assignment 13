; Write a program that does the following:
; Given an array of 8-byte integers, sort the array using the Bubble Sort algorithm.
; Your program should print the array before and after the sort takes place. 
; If you are unable to attend the lecture where the algorithm is presented, 
; you can find it here: https://www.geeksforgeeks.org/bubble-sort/

; It is important that you code this yourself or along with another student instead of copying the implementation
; of the algorithm from the Internet.
; Andres Arevalo
; CIS-11

; Andres Arevalo
; CIS-11

ExitProcess Proto
WriteInt64 Proto
ReadInt64 Proto
Crlf Proto

.data
Array QWORD 10,3,3,9,5,4,2,0,1

.code
main PROC

; print the ARRAY
mov rcx, lengthof Array
mov rsi, 0
Loloop:
	mov rax, Array[rsi * 8]
	call WriteInt64
	call Crlf
	call ReadInt64
	inc rsi
loop Loloop

; bubble sort
mov rcx, lengthof Array

OuterLoop:
mov r15, rcx ; save outerlooop counter
mov rcx, Lengthof Array
dec rcx
mov rsi, 0
	innerLop:
	mov r9, Array[rsi * 8]
	mov r11, rsi
	inc r11
	mov r10, Array[r11 * 8]
	cmp r9, r10
	jle ENDLOOP

	SWAP:
		mov r13, r9
		mov Array[rsi * 8], r10
		mov Array[rsi * 8], r13

	ENDLOOP:
	inc rsi
	Loop innerLop
mov rcx, r15

Loop OuterLoop

; print the array

call ReadInt64

call ExitProcess
main endp
end



